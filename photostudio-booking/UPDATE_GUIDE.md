# üîÑ –û–ù–û–í–õ–ï–ù–ù–Ø: –î–≤—ñ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥—É (–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á vs –ê–¥–º—ñ–Ω)

## ‚ú® –©–û –ù–û–í–û–ì–û:

### üì± –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (`/`)
- –°–ø—Ä–æ—â–µ–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –¢—ñ–ª—å–∫–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- –ù–µ –≤–∏–¥–Ω–æ —ñ–º–µ–Ω —ñ–Ω—à–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤
- –ù–µ –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª—è—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

### üîê –î–ª—è –∞–¥–º—ñ–Ω—ñ–≤ (`/admin`)
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –∑ –ø–∞—Ä–æ–ª–µ–º
- –ü–æ–≤–Ω–∏–π –ø–µ—Ä–µ–≥–ª—è–¥ –≤—Å—ñ—Ö –±—Ä–æ–Ω—é–≤–∞–Ω—å
- –í–∏–¥–∞–ª–µ–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω—å
- –°–ø–∏—Å–æ–∫ —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—ñ—Ö –∑–∞–ø–∏—Å—ñ–≤

---

## üöÄ –Ø–ö –û–ù–û–í–ò–¢–ò:

### 1Ô∏è‚É£ –ó—É–ø–∏–Ω—ñ—Ç—å —Å—Ç–∞—Ä–∏–π –ø—Ä–æ–µ–∫—Ç:
```bash
docker-compose down -v
```

### 2Ô∏è‚É£ –ó–∞–º—ñ–Ω—ñ—Ç—å —Ñ–∞–π–ª–∏:

–°–∫–æ–ø—ñ—é–π—Ç–µ –∑ `photostudio-booking-updated/` –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç:

- ‚úÖ `app/main.py` - –æ–Ω–æ–≤–ª–µ–Ω–∏–π –∑ admin endpoints
- ‚úÖ `app/auth.py` - **–ù–û–í–ò–ô** —Ñ–∞–π–ª –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
- ‚úÖ `app/schemas.py` - –æ–Ω–æ–≤–ª–µ–Ω–∏–π –∑ –Ω–æ–≤–∏–º–∏ —Å—Ö–µ–º–∞–º–∏
- ‚úÖ `static/index.html` - —Å–ø—Ä–æ—â–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- ‚úÖ `static/admin.html` - **–ù–û–í–ê** —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–ª—è –∞–¥–º—ñ–Ω–∞
- ‚úÖ `.env` - –æ–Ω–æ–≤–ª–µ–Ω–∏–π –∑ –ø–∞—Ä–æ–ª–µ–º –∞–¥–º—ñ–Ω–∞
- ‚úÖ `requirements.txt` - –¥–æ–¥–∞–Ω–æ python-jose

### 3Ô∏è‚É£ –ó–º—ñ–Ω—ñ—Ç—å –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω–∞:

–í—ñ–¥–∫—Ä–∏–π—Ç–µ `.env` —ñ –∑–º—ñ–Ω—ñ—Ç—å:
```env
ADMIN_PASSWORD=–≤–∞—à_–±–µ–∑–ø–µ—á–Ω–∏–π_–ø–∞—Ä–æ–ª—å
SECRET_KEY=your-random-secret-key-123456789
```

üí° **–í–∞–∂–ª–∏–≤–æ:** –ó–º—ñ–Ω—ñ—Ç—å SECRET_KEY –Ω–∞ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π —Ä—è–¥–æ–∫!

### 4Ô∏è‚É£ –î–æ–¥–∞–π—Ç–µ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤ Poetry (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ):
```bash
poetry add python-jose[cryptography]
```

### 5Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Docker:
```bash
docker-compose up --build
```

---

## üéØ –Ø–ö –ö–û–†–ò–°–¢–£–í–ê–¢–ò–°–Ø:

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ `http://localhost:8000/`
2. –û–±—Ä–∞—Ç–∏ –¥–µ–Ω—å
3. –û–±—Ä–∞—Ç–∏ –≤—ñ–ª—å–Ω—É –≥–æ–¥–∏–Ω—É
4. –í–≤–µ—Å—Ç–∏ –¥–∞–Ω—ñ —Ç–∞ –∑–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏

### –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ `http://localhost:8000/admin`
2. –í–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `admin123`)
3. –ö–µ—Ä—É–≤–∞—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è–º–∏:
   - –ü–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –≤—Å—ñ –¥–µ—Ç–∞–ª—ñ
   - –í–∏–¥–∞–ª—è—Ç–∏ –∑–∞–ø–∏—Å–∏
   - –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

---

## üîê –ë–ï–ó–ü–ï–ö–ê:

### –¢–æ–∫–µ–Ω –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è 30 –¥–Ω—ñ–≤
–ü—ñ—Å–ª—è –ª–æ–≥—ñ–Ω—É –∞–¥–º—ñ–Ω –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–º 30 –¥–Ω—ñ–≤

### –û—á–∏—Å—Ç–∏—Ç–∏ —Ç–æ–∫–µ–Ω:
```javascript
// –í –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ /admin
localStorage.removeItem('adminToken');
```

### –ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ—Ä–º—ñ–Ω –¥—ñ—ó —Ç–æ–∫–µ–Ω–∞:
–í `app/auth.py` –∑–º—ñ–Ω—ñ—Ç—å:
```python
ACCESS_TOKEN_EXPIRE_DAYS = 30  # –ó–º—ñ–Ω—ñ—Ç—å –Ω–∞ –ø–æ—Ç—Ä—ñ–±–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è
```

---

## üìã –ù–û–í–Ü API ENDPOINTS:

### Admin Authentication:
- `POST /api/admin/login` - –õ–æ–≥—ñ–Ω –∞–¥–º—ñ–Ω–∞

### Admin-only (–ø–æ—Ç—Ä—ñ–±–µ–Ω Bearer token):
- `GET /api/admin/day/{date}` - –î–µ—Ç–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ç—É—Å –¥–Ω—è
- `GET /api/admin/bookings/` - –í—Å—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑ –¥–µ—Ç–∞–ª—è–º–∏
- `DELETE /api/bookings/{id}` - –í–∏–¥–∞–ª–∏—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (—Ç–µ–ø–µ—Ä –∑–∞—Ö–∏—â–µ–Ω–æ)

### Public:
- `GET /` - –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `GET /admin` - –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∞–¥–º—ñ–Ω–∞
- `POST /api/bookings/` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (–≤—Å—ñ –º–æ–∂—É—Ç—å)
- `GET /api/calendar/{year}/{month}` - –ö–∞–ª–µ–Ω–¥–∞—Ä (–±–µ–∑ –¥–µ—Ç–∞–ª–µ–π)
- `GET /api/day/{date}` - –°—Ç–∞—Ç—É—Å –¥–Ω—è (–±–µ–∑ –¥–µ—Ç–∞–ª–µ–π)

---

## üß™ –¢–ï–°–¢–£–í–ê–ù–ù–Ø:

### 1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á:
```
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ http://localhost:8000/
2. –û–±—Ä–∞—Ç–∏ –¥–µ–Ω—å
3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –ù–ï –≤–∏–¥–Ω–æ —ñ–º–µ–Ω –∫–ª—ñ—î–Ω—Ç—ñ–≤
4. –°—Ç–≤–æ—Ä–∏—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
```

### 2. –ê–¥–º—ñ–Ω:
```
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ http://localhost:8000/admin
2. –í–≤–µ—Å—Ç–∏ –ø–∞—Ä–æ–ª—å: admin123
3. –û–±—Ä–∞—Ç–∏ –¥–µ–Ω—å
4. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ –í–ò–î–ù–û –≤—Å—ñ –¥–µ—Ç–∞–ª—ñ (—ñ–º'—è, —Ç–µ–ª–µ—Ñ–æ–Ω)
5. –í–∏–¥–∞–ª–∏—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
6. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –≤–Ω–∏–∑—É
```

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–£:

```
photostudio-booking/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py          ‚úèÔ∏è –û–Ω–æ–≤–ª–µ–Ω–æ (admin endpoints)
‚îÇ   ‚îú‚îÄ‚îÄ auth.py          üÜï –ù–æ–≤–∏–π (JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è)
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py       ‚úèÔ∏è –û–Ω–æ–≤–ª–µ–Ω–æ (admin schemas)
‚îÇ   ‚îú‚îÄ‚îÄ models.py        ‚úÖ –ë–µ–∑ –∑–º—ñ–Ω
‚îÇ   ‚îî‚îÄ‚îÄ database.py      ‚úÖ –ë–µ–∑ –∑–º—ñ–Ω
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ index.html       ‚úèÔ∏è –°–ø—Ä–æ—â–µ–Ω–æ (–¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
‚îÇ   ‚îî‚îÄ‚îÄ admin.html       üÜï –ù–æ–≤–∏–π (–¥–ª—è –∞–¥–º—ñ–Ω—ñ–≤)
‚îú‚îÄ‚îÄ .env                 ‚úèÔ∏è –û–Ω–æ–≤–ª–µ–Ω–æ (–ø–∞—Ä–æ–ª—å + secret)
‚îú‚îÄ‚îÄ requirements.txt     ‚úèÔ∏è –û–Ω–æ–≤–ª–µ–Ω–æ (python-jose)
‚îî‚îÄ‚îÄ docker-compose.yml   ‚úÖ –ë–µ–∑ –∑–º—ñ–Ω
```

---

## üêõ TROUBLESHOOTING:

### –ü–æ–º–∏–ª–∫–∞ "No module named 'jose'":
```bash
# –í Docker
docker-compose down
docker-compose up --build

# –õ–æ–∫–∞–ª—å–Ω–æ
pip install python-jose[cryptography]
# –∞–±–æ
poetry add python-jose[cryptography]
```

### –ü–∞—Ä–æ–ª—å –Ω–µ –ø—Ä–∞—Ü—é—î:
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `.env`:
```bash
cat .env | grep ADMIN_PASSWORD
```

### –¢–æ–∫–µ–Ω –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è:
–û—á–∏—Å—Ç—ñ—Ç—å localStorage:
```javascript
localStorage.clear()
```

---

## üîÆ –ú–ê–ô–ë–£–¢–ù–Ü –ü–û–ö–†–ê–©–ï–ù–ù–Ø:

- [ ] Telegram –±–æ—Ç –¥–ª—è —Å–ø–æ–≤—ñ—â–µ–Ω—å
- [ ] Email –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è
- [ ] –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∫—ñ–ª—å–∫–æ—Ö –∞–¥–º—ñ–Ω—ñ–≤
- [ ] –Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω
- [ ] –ï–∫—Å–ø–æ—Ä—Ç –±—Ä–æ–Ω—é–≤–∞–Ω—å

---

## üìû –ö–û–ù–¢–ê–ö–¢–ò:

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è - –ø–∏—à—ñ—Ç—å –≤ —á–∞—Ç!

**–£—Å–ø—ñ—à–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è! üöÄüì∏**
