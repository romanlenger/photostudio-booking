# ü§ñ TELEGRAM –ë–û–¢ - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

## ‚úÖ –©–û –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û:

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è:
- üéâ –ù–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è ‚Üí –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram
- ‚ùå –°–∫–∞—Å—É–≤–∞–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è ‚Üí –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram
- üìä –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è: –¥–∞—Ç–∞, —á–∞—Å, —ñ–º'—è, —Ç–µ–ª–µ—Ñ–æ–Ω

### –§–æ—Ä–º–∞—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:
```
üéâ –ù–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è!

üìÖ –î–∞—Ç–∞: 20 –≥—Ä—É–¥–Ω—è 2025
üïê –ß–∞—Å: 14:00 - 15:00

üë§ –ö–ª—ñ—î–Ω—Ç: –Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ
üìû –¢–µ–ª–µ—Ñ–æ–Ω: +380501234567

üÜî –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è #123

üíº CLIQUE Photostudio
```

---

## üöÄ –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø (–≤–∂–µ –≥–æ—Ç–æ–≤–æ):

### 1. ‚úÖ –ë–æ—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ:
```
–Ü–º'—è: CLIQUE Booking Bot
Username: @clique_booking_bot (–∞–±–æ –≤–∞—à)
Token: 8459457004:AAH79P4OVkWXudTF6I_UKlzf5xHDasRqpAA
```

### 2. ‚úÖ Chat ID –æ—Ç—Ä–∏–º–∞–Ω–æ:
```
–¢–≤—ñ–π Chat ID: 453977317
```

### 3. ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –≤ .env:
```env
TELEGRAM_BOT_TOKEN=8459457004:AAH79P4OVkWXudTF6I_UKlzf5xHDasRqpAA
TELEGRAM_ADMIN_CHAT_IDS=453977317
```

---

## üß™ –¢–ï–°–¢–£–í–ê–ù–ù–Ø:

### –°–ø–æ—Å—ñ–± 1: –ß–µ—Ä–µ–∑ API (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é):
```bash
# 1. –ó–∞–ª–æ–≥—ñ–Ω—å—Å—è —è–∫ –∞–¥–º—ñ–Ω —ñ –æ—Ç—Ä–∏–º–∞–π —Ç–æ–∫–µ–Ω
curl -X POST http://localhost:8000/api/admin/login \
  -H "Content-Type: application/json" \
  -d '{"password":"admin123"}'

# –û—Ç—Ä–∏–º–∞—î—à: {"access_token": "eyJ..."}

# 2. –í—ñ–¥–ø—Ä–∞–≤ —Ç–µ—Å—Ç–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
curl -X POST http://localhost:8000/api/admin/test-telegram \
  -H "Authorization: Bearer –í–ê–®_–¢–û–ö–ï–ù"

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –û—Ç—Ä–∏–º–∞—î—à –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram! ‚úÖ
```

### –°–ø–æ—Å—ñ–± 2: –°—Ç–≤–æ—Ä–∏ —Ä–µ–∞–ª—å–Ω–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è:
```
1. –í—ñ–¥–∫—Ä–∏–π http://localhost:8000/
2. –û–±–µ—Ä–∏ –¥–∞—Ç—É —ñ –≥–æ–¥–∏–Ω—É
3. –ó–∞–ø–æ–≤–Ω–∏ —Ñ–æ—Ä–º—É: –Ü–º'—è + –¢–µ–ª–µ—Ñ–æ–Ω
4. –ù–∞—Ç–∏—Å–Ω–∏ "–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏"
5. –û—Ç—Ä–∏–º–∞—î—à –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram! üéâ
```

---

## üì± –î–ï–ö–Ü–õ–¨–ö–ê –ê–î–ú–Ü–ù–Ü–í:

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–ø–æ–≤—ñ—â–∞—Ç–∏ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –ª—é–¥–µ–π:

### 1. –ö–æ–∂–µ–Ω –æ—Ç—Ä–∏–º—É—î —Å–≤—ñ–π chat_id —á–µ—Ä–µ–∑ @userinfobot

### 2. –î–æ–¥–∞—Ç–∏ –≤—Å—ñ chat_id –≤ .env —á–µ—Ä–µ–∑ –∫–æ–º—É:
```env
TELEGRAM_ADMIN_CHAT_IDS=453977317,123456789,987654321
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏:
```bash
docker-compose restart web
```

---

## üîß –§–ê–ô–õ–ò –í –ü–†–û–ï–ö–¢–Ü:

```
photostudio-booking/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ telegram_service.py    ‚Üê –ù–û–í–ò–ô! Telegram –ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ main.py                ‚Üê –û–Ω–æ–≤–ª–µ–Ω–æ (—Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è)
‚îú‚îÄ‚îÄ requirements.txt           ‚Üê –î–æ–¥–∞–Ω–æ python-telegram-bot
‚îî‚îÄ‚îÄ .env                       ‚Üê –î–æ–¥–∞–Ω–æ Telegram –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
```

---

## ‚öôÔ∏è –Ø–ö –¶–ï –ü–†–ê–¶–Æ–Ñ:

```python
# 1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±—Ä–æ–Ω—é—î
create_booking(...)

# 2. –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –≤ –±–∞–∑—É
db.add(booking)
db.commit()

# 3. –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –≤ Telegram (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
background_tasks.add_task(
    telegram_notifier.send_new_booking_notification,
    ...
)

# 4. –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É (–Ω–µ —á–µ–∫–∞—î–º–æ Telegram)
return booking
```

**Telegram –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –í –§–û–ù–û–í–û–ú–£ –†–ï–ñ–ò–ú–Ü** - –Ω–µ —É–ø–æ–≤—ñ–ª—å–Ω—é—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å!

---

## üêõ –ú–û–ñ–õ–ò–í–Ü –ü–û–ú–ò–õ–ö–ò:

### –ü–æ–º–∏–ª–∫–∞: "TELEGRAM_BOT_TOKEN –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"
**–†—ñ—à–µ–Ω–Ω—è:** –ü–µ—Ä–µ–≤—ñ—Ä .env —Ñ–∞–π–ª, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Docker

### –ü–æ–º–∏–ª–∫–∞: "Telegram chat IDs –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ"
**–†—ñ—à–µ–Ω–Ω—è:** –î–æ–¥–∞–π TELEGRAM_ADMIN_CHAT_IDS –≤ .env

### –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç—å
**–†—ñ—à–µ–Ω–Ω—è:** 
1. –ü–µ—Ä–µ–≤—ñ—Ä —â–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω–∏–π
2. –ù–∞–ø–∏—à–∏ –±–æ—Ç—É /start –≤ Telegram
3. –ü–µ—Ä–µ–≤—ñ—Ä –ª–æ–≥–∏: `docker-compose logs web`

---

## üìä –õ–û–ì–£–í–ê–ù–ù–Ø:

–í—Å—ñ Telegram –æ–ø–µ—Ä–∞—Ü—ñ—ó –ª–æ–≥—É—é—Ç—å—Å—è:

```bash
# –î–∏–≤–∏—Ç–∏—Å—å –ª–æ–≥–∏
docker-compose logs -f web

# –ü–æ–±–∞—á–∏—à:
‚úÖ Telegram Bot —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
‚úÖ –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–¥–º—ñ–Ω—É 453977317
‚ùå –ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∞–¥–º—ñ–Ω—É 123456789: ...
```

---

## üéØ –î–û–î–ê–¢–ö–û–í–Ü –§–Ü–ß–Ü (–º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏):

### –ö–Ω–æ–ø–∫–∏ –≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—ñ:
```python
# –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–∑–≤–æ–Ω–∏—Ç–∏" (–≤—ñ–¥–∫—Ä–∏–≤–∞—î —Ç–µ–ª–µ—Ñ–æ–Ω)
# –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ" (–ª—ñ–Ω–∫)
# –ö–Ω–æ–ø–∫–∞ "–°–∫–∞—Å—É–≤–∞—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è" (—à–≤–∏–¥–∫–∞ –¥—ñ—è)
```

### –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è:
```python
# –ó–∞ 24 –≥–æ–¥–∏–Ω–∏ –¥–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
# –ó–∞ 1 –≥–æ–¥–∏–Ω—É –¥–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
```python
# /stats - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –¥–µ–Ω—å
# /today - –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ
# /week - –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å
```

---

## ‚úÖ –ì–û–¢–û–í–û!

–¢–µ–ø–µ—Ä –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –Ω–æ–≤–æ–º—É –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—ñ —Ç–∏ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏–º–µ—à –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ Telegram! üéâ

**–ü–æ—Ç—Ä—ñ–±–Ω—ñ —â–µ —è–∫—ñ—Å—å —Ñ—ñ—á—ñ? –ü–∏—à–∏! üöÄ**
